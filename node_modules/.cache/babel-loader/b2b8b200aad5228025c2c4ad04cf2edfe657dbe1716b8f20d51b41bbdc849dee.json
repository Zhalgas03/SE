{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\falco\\\\Desktop\\\\SE Project\\\\frontend\\\\src\\\\components\\\\PhotoSide.js\",\n  _s = $RefreshSig$();\n// components/PhotoSide.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_KEY = 'pmNK8CZbn2lOEr8vN8OERavIp3CsrUkmKqVcx9wAte03zTloVzTv5EHX'; // 🔑 вставь свой ключ\n\nfunction PhotoSide() {\n  _s();\n  const [photoUrl, setPhotoUrl] = useState('');\n  const [nextUrl, setNextUrl] = useState('');\n\n  // Функция загрузки нового фото\n  const preloadPhoto = async () => {\n    try {\n      var _data$photos;\n      const res = await fetch('https://api.pexels.com/v1/search?query=travel&per_page=1&page=' + Math.floor(Math.random() * 100), {\n        headers: {\n          Authorization: API_KEY\n        }\n      });\n      const data = await res.json();\n      const photo = (_data$photos = data.photos) === null || _data$photos === void 0 ? void 0 : _data$photos[0];\n\n      // Фильтрация по качеству\n      if (photo && photo.width > 2000 && photo.height > 1200) {\n        const img = new Image();\n        img.src = photo.src.landscape;\n        img.onload = () => {\n          setNextUrl(photo.src.landscape);\n        };\n      }\n    } catch (err) {\n      console.error('Ошибка загрузки фото:', err);\n    }\n  };\n\n  // Переключение на новое фото (если доступно)\n  const switchPhoto = () => {\n    if (nextUrl) {\n      setPhotoUrl(nextUrl);\n      setNextUrl('');\n    }\n  };\n  useEffect(() => {\n    // Первая загрузка\n    preloadPhoto();\n\n    // Запускаем цикл: preload каждые 58 сек, смена через 60\n    const preloadInterval = setInterval(preloadPhoto, 58000);\n    const switchInterval = setInterval(switchPhoto, 60000);\n    return () => {\n      clearInterval(preloadInterval);\n      clearInterval(switchInterval);\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"col-md-6 d-none d-md-block\",\n    style: {\n      backgroundImage: `url(${photoUrl})`,\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      height: '100vh',\n      transition: 'background-image 1s ease-in-out'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_s(PhotoSide, \"iamUIbFdM8UtC03j5eXouHflayQ=\");\n_c = PhotoSide;\nconsole.log('Fetched photo data:', data);\nexport default PhotoSide;\nvar _c;\n$RefreshReg$(_c, \"PhotoSide\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","API_KEY","PhotoSide","_s","photoUrl","setPhotoUrl","nextUrl","setNextUrl","preloadPhoto","_data$photos","res","fetch","Math","floor","random","headers","Authorization","data","json","photo","photos","width","height","img","Image","src","landscape","onload","err","console","error","switchPhoto","preloadInterval","setInterval","switchInterval","clearInterval","className","style","backgroundImage","backgroundSize","backgroundPosition","transition","fileName","_jsxFileName","lineNumber","columnNumber","_c","log","$RefreshReg$"],"sources":["C:/Users/falco/Desktop/SE Project/frontend/src/components/PhotoSide.js"],"sourcesContent":["// components/PhotoSide.js\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst API_KEY = 'pmNK8CZbn2lOEr8vN8OERavIp3CsrUkmKqVcx9wAte03zTloVzTv5EHX'; // 🔑 вставь свой ключ\r\n\r\nfunction PhotoSide() {\r\n  const [photoUrl, setPhotoUrl] = useState('');\r\n  const [nextUrl, setNextUrl] = useState('');\r\n\r\n  // Функция загрузки нового фото\r\n  const preloadPhoto = async () => {\r\n    try {\r\n      const res = await fetch(\r\n        'https://api.pexels.com/v1/search?query=travel&per_page=1&page=' + Math.floor(Math.random() * 100),\r\n        {\r\n          headers: {\r\n            Authorization: API_KEY,\r\n          },\r\n        }\r\n      );\r\n      const data = await res.json();\r\n      const photo = data.photos?.[0];\r\n\r\n      // Фильтрация по качеству\r\n      if (photo && photo.width > 2000 && photo.height > 1200) {\r\n        const img = new Image();\r\n        img.src = photo.src.landscape;\r\n        img.onload = () => {\r\n          setNextUrl(photo.src.landscape);\r\n        };\r\n      }\r\n    } catch (err) {\r\n      console.error('Ошибка загрузки фото:', err);\r\n    }\r\n  };\r\n\r\n  // Переключение на новое фото (если доступно)\r\n  const switchPhoto = () => {\r\n    if (nextUrl) {\r\n      setPhotoUrl(nextUrl);\r\n      setNextUrl('');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Первая загрузка\r\n    preloadPhoto();\r\n\r\n    // Запускаем цикл: preload каждые 58 сек, смена через 60\r\n    const preloadInterval = setInterval(preloadPhoto, 58000);\r\n    const switchInterval = setInterval(switchPhoto, 60000);\r\n\r\n    return () => {\r\n      clearInterval(preloadInterval);\r\n      clearInterval(switchInterval);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      className=\"col-md-6 d-none d-md-block\"\r\n      style={{\r\n        backgroundImage: `url(${photoUrl})`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        height: '100vh',\r\n        transition: 'background-image 1s ease-in-out'\r\n      }}\r\n    />\r\n  );\r\n}\r\nconsole.log('Fetched photo data:', data);\r\n\r\nexport default PhotoSide;\r\n"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnD,MAAMC,OAAO,GAAG,0DAA0D,CAAC,CAAC;;AAE5E,SAASC,SAASA,CAAA,EAAG;EAAAC,EAAA;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACS,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACA,MAAMW,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAI;MAAA,IAAAC,YAAA;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CACrB,gEAAgE,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC,EAClG;QACEC,OAAO,EAAE;UACPC,aAAa,EAAEf;QACjB;MACF,CACF,CAAC;MACD,MAAMgB,IAAI,GAAG,MAAMP,GAAG,CAACQ,IAAI,CAAC,CAAC;MAC7B,MAAMC,KAAK,IAAAV,YAAA,GAAGQ,IAAI,CAACG,MAAM,cAAAX,YAAA,uBAAXA,YAAA,CAAc,CAAC,CAAC;;MAE9B;MACA,IAAIU,KAAK,IAAIA,KAAK,CAACE,KAAK,GAAG,IAAI,IAAIF,KAAK,CAACG,MAAM,GAAG,IAAI,EAAE;QACtD,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;QACvBD,GAAG,CAACE,GAAG,GAAGN,KAAK,CAACM,GAAG,CAACC,SAAS;QAC7BH,GAAG,CAACI,MAAM,GAAG,MAAM;UACjBpB,UAAU,CAACY,KAAK,CAACM,GAAG,CAACC,SAAS,CAAC;QACjC,CAAC;MACH;IACF,CAAC,CAAC,OAAOE,GAAG,EAAE;MACZC,OAAO,CAACC,KAAK,CAAC,uBAAuB,EAAEF,GAAG,CAAC;IAC7C;EACF,CAAC;;EAED;EACA,MAAMG,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIzB,OAAO,EAAE;MACXD,WAAW,CAACC,OAAO,CAAC;MACpBC,UAAU,CAAC,EAAE,CAAC;IAChB;EACF,CAAC;EAEDT,SAAS,CAAC,MAAM;IACd;IACAU,YAAY,CAAC,CAAC;;IAEd;IACA,MAAMwB,eAAe,GAAGC,WAAW,CAACzB,YAAY,EAAE,KAAK,CAAC;IACxD,MAAM0B,cAAc,GAAGD,WAAW,CAACF,WAAW,EAAE,KAAK,CAAC;IAEtD,OAAO,MAAM;MACXI,aAAa,CAACH,eAAe,CAAC;MAC9BG,aAAa,CAACD,cAAc,CAAC;IAC/B,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBACElC,OAAA;IACEoC,SAAS,EAAC,4BAA4B;IACtCC,KAAK,EAAE;MACLC,eAAe,EAAE,OAAOlC,QAAQ,GAAG;MACnCmC,cAAc,EAAE,OAAO;MACvBC,kBAAkB,EAAE,QAAQ;MAC5BlB,MAAM,EAAE,OAAO;MACfmB,UAAU,EAAE;IACd;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEN;AAAC1C,EAAA,CAjEQD,SAAS;AAAA4C,EAAA,GAAT5C,SAAS;AAkElB2B,OAAO,CAACkB,GAAG,CAAC,qBAAqB,EAAE9B,IAAI,CAAC;AAExC,eAAef,SAAS;AAAC,IAAA4C,EAAA;AAAAE,YAAA,CAAAF,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}